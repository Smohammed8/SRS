{% extends 'base.html.twig' %}

{% block title %} Student list {% endblock %}

{% block body %}


                
  {% if is_granted("filter_pnt") %} 
 <div class="row">
<div class="card-toolbar">
  <a class=" btn btn-sm btn-info btn-white btn-round pull-right" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
   <i class="fa fa-chevron-down w-2 mx-1px"></i>

  

  </a>  <br>    <br>         
</div>
    
<div class="col-xs-12">


<div class="collapse" id="collapseExample">
  <div class="card card-body">
  

  	{{ form_start(form,{'attr': {'role':'form','id':'form'}}) }}
      
				<div class="row ">

					<div class="form-group col-md-3">
						<div class="col-12">
							{{ form_widget(form.program,{'attr':{'class':' select2 form-control','required':'required'}}) }}
						</div>
					</div>



					<div class="form-group col-md-2">
						<div class="col-12">
							{{ form_widget(form.programLevel,{'attr':{'class':' select2 form-control','required':'required'}}) }}
						</div>
					</div>



					<div class="form-group col-md-2">
						<div class="col-12">
							{{ form_widget(form.modality,{'attr':{'class':' select2 form-control','required':'required'}}) }}
						</div>
					</div>


					<div class="form-group col-md-2">
						<div class="col-12">
							{{ form_widget(form.gender,{'attr':{'class':' select2 form-control','required':'required'}}) }}
						</div>
					</div>


    

{# 
						<div class="form-group col-md-2">
					
						<input type="text" class="form-control"  required="required" placeholder="Start date" autocomplete="off" name="sdate" size="3" id="start"/>
					</div>


					<div class="form-group col-md-2">
					
						<input type="text" class="form-control"  required="required" placeholder="End date" autocomplete="off" name="edate" size="3" id="end"/>
					</div> #}


			           <div class="form-group col-md-2">
							<button class="btn btn-sm btn-info btn-blue btn-round" type="submit">
                            <i class="fa fa-search"> </i> Filter </button>
					</div>

					
			
				</div>

				{{ form_end(form) }}	

  </div>
</div>
 {% endif %} 			

<div class="widget-header widget-header-blue widget-header-flat" >
	

		<div class="pull-right tableTools-container">

        
              	<div class="pull-right tableTools-container">
                  {% if is_granted("ad_new_pnt") %}   	
                              <a href="{{ path('app_student_new') }}" class="btn btn-sm btn-info btn-white btn-round float-right"> <i class="fa fa-plus"></i> New student </a>

					     
	              {% endif %}
						  {% if is_granted("batch_uplod") %} 
					     	<a href="{{ path('batch_upload') }}" class="btn btn-sm btn-info btn-white btn-round float-right">  <i class="fa fa-download"></i> Batch Upload </a>
	              
				 {% endif %} 

         

	                        </div>
                            
	   </div>
       
		</div>

    <span class="pull-right" style="font-size:16px;">    Total :
				{{ total_students }}
				Students </span>
    
	<table id="dynamic-table" style="border-top:3px solid #438EB9; " class="table table-striped table-bordered table-hover">
   
           <thead>
            <tr>
                <th>#</th>
                <th>ID </th>
                <th>Full Name</th>
                <th>Program</th>
                <th>Program Level </th>
                <th>Modality </th>
                <th>Ac.year</th>
                <th>Gender</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for student in students %}
            <tr>
                <td>{{ loop.index }}</td>
                 
                   <td> {{ student.studentId }}</td>
               <td> {{ student.firstName }}  {{ student.fatherName }} {{ student.lastName }} </td>
             
                <td>{{ student.program}}</td>
                <td>{{ student.programLevel }}</td>

                 <td>{{ student.modality}}</td>
                   <td>{{ student.academicYear }}</td>
              
                <td>{{ student.gender }}</td>
                <td>
                    <a class="btn btn-sm btn-info btn-white btn-round"  href="{{ path('app_student_show', {'id': student.id}) }}"><i class="ace-icon fa fa fa-graduation-cap bigger-120"></i> Profile </a>
                    <a  class="btn btn-sm btn-warning btn-white btn-round" href="{{ path('app_student_edit', {'id': student.id}) }}"><i class="ace-icon fa fa-pencil bigger-120"></i> Edit</a>
                      <a  class="btn btn-sm btn-danger btn-white btn-round" href="{{ path('app_student_delete', {'id': student.id}) }}"><i class="ace-icon fa fa-trash bigger-120"></i> Delete</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7" style="color:red;">No registered student found !</td>
            </tr>
        {% endfor %}
        </tbody>


    </table>
<div class="pull-right" style="margin-right:10px; display:inline;" id="custompaginator">{{ knp_pagination_render(students ) }}</div>


							</div><!-- /.col -->
						</div><!-- /.row -->


					
{% endblock %}
